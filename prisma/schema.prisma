generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["postgresqlExtensions"]
}

datasource db {
  provider   = "postgresql"
  url        = env("DATABASE_URL")
  extensions = [pg_trgm]
}

model Users {
  id                 Int      @id(map: "pk_users") @default(autoincrement()) @map("id")
  emailAddress       String   @unique(map: "ix_users_email_address") @map("email_address")
  password           String?  @map("password")
  passwordResetToken String?  @map("password_reset_token") @db.Uuid
  firstName          String   @map("first_name")
  lastName           String   @map("last_name")
  dateOfBirth        DateTime @map("date_of_birth") @db.Date
  isLockedOut        Boolean  @default(false) @map("is_locked_out")
  roles              String[] @map("roles")
  search             String?  @map("search")
  version            String   @default("") @map("version") @db.Uuid

  @@index([search(ops: raw("gin_trgm_ops"))], name: "ix_users_search", type: Gin)
  @@map("users")
}
